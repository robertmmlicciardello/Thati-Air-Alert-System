# Thati Air Alert Server - Environment Configuration Template
# Copy this file to .env and update with your actual values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
HOST=localhost

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=thati_alert
DB_USER=thati_user
DB_PASSWORD=your_secure_password_here
DATABASE_URL=postgresql://thati_user:your_secure_password_here@localhost:5432/thati_alert

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=2000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0
REDIS_KEY_PREFIX=thati:

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Secrets (Generate strong random strings)
JWT_SECRET=your-super-secure-jwt-secret-key-minimum-32-characters
JWT_REFRESH_SECRET=your-super-secure-refresh-token-secret-key-minimum-32-characters
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# Password Hashing
BCRYPT_ROUNDS=12

# API Keys
API_KEY_SECRET=your-api-key-secret-for-internal-services

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Firebase Cloud Messaging
FCM_SERVER_KEY=your-firebase-server-key-here
FCM_PROJECT_ID=your-firebase-project-id

# Twilio SMS Service
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Email Service (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-email-app-password

# SendGrid (Alternative Email Service)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@thatialert.com

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=10MB
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# General API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Authentication Rate Limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_ATTEMPTS=5

# Alert Sending Rate Limiting
ALERT_RATE_LIMIT_WINDOW_MS=60000
ALERT_RATE_LIMIT_MAX_ALERTS=10

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
# Sentry Error Tracking
SENTRY_DSN=your-sentry-dsn-for-error-tracking

# Google Analytics
GA_TRACKING_ID=your-google-analytics-tracking-id

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================
WEBSOCKET_PORT=3001
WEBSOCKET_CORS_ORIGIN=http://localhost:3000,https://admin.thatialert.com

# =============================================================================
# CRON JOBS CONFIGURATION
# =============================================================================
CLEANUP_CRON_SCHEDULE=0 2 * * *
ANALYTICS_CRON_SCHEDULE=0 */6 * * *
BACKUP_CRON_SCHEDULE=0 3 * * *

# =============================================================================
# MYANMAR SPECIFIC CONFIGURATION
# =============================================================================
# Default Region
DEFAULT_REGION=yangon

# Supported Languages
SUPPORTED_LANGUAGES=en,my

# Myanmar SMS Gateway (Local Provider)
MM_SMS_PROVIDER_URL=https://api.local-sms-provider.com
MM_SMS_PROVIDER_API_KEY=your-local-sms-api-key
MM_SMS_PROVIDER_SENDER_ID=THATI

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Enable/Disable Features for Development
ENABLE_SWAGGER_DOCS=true
ENABLE_CORS=true
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# Mock Services (for development/testing)
MOCK_SMS_SERVICE=false
MOCK_EMAIL_SERVICE=false
MOCK_PUSH_NOTIFICATIONS=false

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================
# SSL Configuration
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem

# CDN Configuration
CDN_URL=https://cdn.thatialert.com
STATIC_FILES_URL=https://static.thatialert.com

# Load Balancer
TRUST_PROXY=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database Backup
DB_BACKUP_PATH=./backups
DB_BACKUP_RETENTION_DAYS=30

# AWS S3 Backup (Optional)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=ap-southeast-1
AWS_S3_BACKUP_BUCKET=thati-alert-backups

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_ENDPOINTS=/health,/api/health

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_TTL=3600
CACHE_MAX_KEYS=10000
CACHE_CHECK_PERIOD=600

# =============================================================================
# ALERT SYSTEM CONFIGURATION
# =============================================================================
# Alert Processing
MAX_ALERT_MESSAGE_LENGTH=500
ALERT_BATCH_SIZE=100
ALERT_PROCESSING_TIMEOUT=30000

# Alert Delivery
MAX_DELIVERY_ATTEMPTS=3
DELIVERY_RETRY_DELAY=5000
DELIVERY_TIMEOUT=10000

# Alert Priorities
CRITICAL_ALERT_EXPIRY=3600000
HIGH_ALERT_EXPIRY=7200000
MEDIUM_ALERT_EXPIRY=14400000
LOW_ALERT_EXPIRY=86400000